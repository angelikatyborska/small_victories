<div ng-controller="VictoriesController">
  <div ng-show="victories.length > 0" class="victories-table panel">

    <div class="row" ng-include="'app/partials/victoriesTablePagination.html'"></div>

    <div class="row" ng-repeat="victory in victories track by victory.id">
      <div class="small-2 medium-1 columns">
        <div class="votes" ng-controller="VotesController">
          <div ng-click="upvote(victory)" class="vote upvote" ng-class="{ voted: hasUpvoted(victory) }">
            <span class="show-for-sr">Upvote</span>
            <i class="fa fa-chevron-up"></i>
          </div>
          <div class="count">
            {{ victory.votes_count }}
          </div>
          <div ng-click="downvote(victory)" class="vote downvote" ng-class="{ voted: hasDownvoted(victory) }">
            <span class="show-for-sr">Downvote</span>
            <i class="fa fa-chevron-down"></i>
          </div>
        </div>
      </div>
      <div class="small-10 medium-11 large-10 xlarge-9 xxlarge-8 columns end">
        <div class="victory-meta">
          <small>
            <a href="#">#{{ victory.id }}</a>
            submitted by
            <a href="#">{{ victory.user.nickname }}</a>
            <span am-time-ago="victory.created_at"></span>
          </small>
        </div>
        <div class="victory-body">
          {{ victory.body }}
        </div>
      </div>
    </div>

    <div class="row" ng-include="'app/partials/victoriesTablePagination.html'"></div>

  </div>
</div>
